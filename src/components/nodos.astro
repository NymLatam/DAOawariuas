---
import react from '@astrojs/react';
import React, { useEffect, useState } from "react";
import axios from "@astrojs/react";
import Container from '../components/Container.astro';

// Este fragmento de código realiza una solicitud HTTP GET a la URL proporcionada
// y luego convierte la respuesta en formato JSON.
// La cabecera 'Cache-Control' está configurada para almacenar en caché la respuesta
// durante 3600 segundos y, si la respuesta está obsoleta, la revalida.
const res = await fetch('http://nym.criptochingaderas.com/list/', {
  headers: {
    'Cache-Control': 's-maxage=3600, stale-while-revalidate'
  }
});
// La respuesta de la solicitud se convierte en un objeto JSON
// y se almacena en la variable 'data2'.
const data2 = await res.json();
---
<div>
<Container> 

  <div class="pt-40  " >

    <div class="text-center text-white text-3xl font-bold"> Nodos Daoariwas</div>
    {data2.map((data: { Name: unknown; Description: unknown; Id: unknown; IP: unknown; IdentityKey: unknown; Location: unknown; Owner: unknown; MonthlyEarnings: unknown; }) => (
    <div class="shadow-lg rounded-lg overflow-hidden text-purple-300 bg-gray-900 mt-8 mr-4">
      
        
          <h1 class="text-xl pb-4 bg-gray-800 px-4 py-2 font-bold text-center">
            {data.Name} <br /> 
          </h1>
          <p class="text-center pt-4"> {data.Description}  </p>
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-4">
            <div >
              <h3 class="text-xl">Mix ID: </h3>
              <p class="">{data.Id}</p>
            </div>
            <div>
              <h3 class="text-xl">Host: </h3>
              <p class=""> {data.IP}</p>
            </div>
            <div>
              <h3 class="text-xl">Identity Key: </h3>
              <p class=""> {data.IdentityKey}</p>
            </div>
            <div>
              <h3 class="text-xl">Pais: </h3>
              <p class=""> {data.Location}</p>
            </div>
            <div>
              <h3 class="text-xl">Doliente:</h3>
              <p class=""> {data.Owner}</p>
            </div>
            <div>
              <h3 class="text-xl">Monthly Earnings:</h3>
              <p class=""> {data.MonthlyEarnings} NYM</p>
            </div>
          </div>
       
      
      
    </div>
    ))}
  </div>
</Container>
</div>  


